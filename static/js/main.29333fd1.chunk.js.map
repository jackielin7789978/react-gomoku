{"version":3,"sources":["sounds/gamestart.mp3","sounds/blackchess.mp3","sounds/whitechess.mp3","sounds/winning.mp3","sounds/click.mp3","constants/GlobalStyle.js","components/Board.js","components/Info.js","components/Modal.js","components/Footer.js","utils.js","components/App.js","index.js"],"names":["GlobalStyle","createGlobalStyle","ChessBoard","styled","div","ChessBorder","Row","Grid","Square","$isBlackNext","Black","White","Board","handleClick","handleSound","board","grids","Array","fill","map","grid","index","style","width","row","i","squares","col","x","y","onClick","e","stopPropagation","Info","ModalContainer","EndingMsg","Restart","a","StartGame","Modal","setIsPlaying","playStart","playClicked","winner","window","location","reload","FooterContainer","Footer","href","target","rel","calculateWinner","currentX","currentY","countConsecutives","dx","dy","color","tempX","tempY","consecutiveCount","Title","App","useState","isPlaying","isBlackNext","setIsBlackNext","coordinates","setBoard","currentSquares","useSound","gamestart","volume","blackchess","playBlack","whitechess","playWhite","winning","playWinning","click","useEffect","newRow","square","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29333fd1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/gamestart.e6b883e2.mp3\";","export default __webpack_public_path__ + \"static/media/blackchess.a419a936.mp3\";","export default __webpack_public_path__ + \"static/media/whitechess.9c0025d1.mp3\";","export default __webpack_public_path__ + \"static/media/winning.5826d047.mp3\";","export default __webpack_public_path__ + \"static/media/click.7ea98b81.mp3\";","import { createGlobalStyle } from 'styled-components'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    font-family: 'NTR', sans-serif;\r\n    font-family: 'Gemunu Libre', sans-serif;\r\n  }\r\n  body {\r\n    background: #ececec;\r\n    height: 100vh;\r\n    overflow: hidden;\r\n  }\r\n  #root {\r\n    padding: 1px;\r\n  }\r\n  h1, h2, h3, h4, h5, h6 {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  button {\r\n    border: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n    color: #222;\r\n    &:hover {\r\n      color: #222;\r\n    }\r\n    &:active {\r\n      color: #222;\r\n    }\r\n  }\r\n`\r\n\r\nexport default GlobalStyle\r\n","import styled from 'styled-components'\r\n\r\nconst ChessBoard = styled.div`\r\n  background: #b89874;\r\n  width: 570px;\r\n  height: 570px;\r\n  box-shadow: 4px 8px 12px 1px rgba(60, 60, 60, 0.5);\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  overflow: hidden;\r\n  border-radius: 2px;\r\n`\r\nconst ChessBorder = styled.div`\r\n  position: absolute;\r\n  background: #b89874;\r\n  z-index: 1;\r\n\r\n  &:first-child {\r\n    width: 100%;\r\n    height: 14px;\r\n    top: 0;\r\n  }\r\n  &:nth-child(2) {\r\n    width: 100%;\r\n    height: 14px;\r\n    bottom: 0;\r\n  }\r\n  &:nth-child(3) {\r\n    width: 14px;\r\n    height: 100%;\r\n    left: 0;\r\n  }\r\n  &:nth-child(4) {\r\n    width: 14px;\r\n    height: 100%;\r\n    right: 0;\r\n  }\r\n`\r\nconst Row = styled.div`\r\n  height: 30px;\r\n  width: 570px;\r\n  position: relative;\r\n`\r\nconst Grid = styled.div`\r\n  position: relative;\r\n  display: inline-block;\r\n  top: 0;\r\n  left: 0px;\r\n  width: 30px;\r\n  height: 30px;\r\n  border: 1px solid #413320dd;\r\n  transform: translate(-50%, -50%);\r\n`\r\nconst Square = styled.div`\r\n  cursor: pointer;\r\n  position: relative;\r\n  display: inline-block;\r\n  left: 0px;\r\n  width: 30px;\r\n  height: 30px;\r\n  transform: translate(0, -2000%);\r\n  z-index: 2;\r\n  span {\r\n    width: 19px;\r\n    height: 19px;\r\n    border-radius: 50%;\r\n    background: transparent;\r\n    border: none;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-55%, -60%);\r\n    transition: linear 0.1s;\r\n    z-index: 5;\r\n    &:hover {\r\n      background: ${({ $isBlackNext }) =>\r\n        $isBlackNext ? 'rgba(80, 80, 80, 0.8)' : 'rgba(200, 200, 200, 0.8)'};\r\n      box-shadow: 2px 2px 3px 0px rgba(90, 90, 90, 0.7);\r\n    }\r\n  }\r\n`\r\nconst Black = styled.div`\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background: #111;\r\n  border: 1px solid #333;\r\n  z-index: 5;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  box-shadow: 2px 2px 2px 0px rgba(30, 30, 30, 0.7);\r\n`\r\nconst White = styled(Black)`\r\n  background: #eee;\r\n  border: 1px solid #ddd;\r\n`\r\n\r\nexport default function Board({\r\n  handleClick,\r\n  handleSound,\r\n  board,\r\n  $isBlackNext\r\n}) {\r\n  const grids = Array(20)\r\n    .fill(0)\r\n    .map(() => Array(20).fill(null))\r\n\r\n  return (\r\n    <ChessBoard>\r\n      <ChessBorder />\r\n      <ChessBorder />\r\n      <ChessBorder />\r\n      <ChessBorder />\r\n      {grids.map((grid, index) => (\r\n        <Row key={index} style={{ width: '600px' }}>\r\n          {grid.map((row, i) => (\r\n            <Grid key={index[i]} />\r\n          ))}\r\n        </Row>\r\n      ))}\r\n      {board.squares.map((col, x) => {\r\n        return (\r\n          <Row key={x}>\r\n            {col.map((row, y) => {\r\n              return (\r\n                <>\r\n                  <Square\r\n                    key={col[y]}\r\n                    $isBlackNext={$isBlackNext}\r\n                    onClick={(e) => {\r\n                      e.stopPropagation()\r\n                      handleClick(x, y)\r\n                      handleSound($isBlackNext)\r\n                    }}\r\n                  >\r\n                    <span></span>\r\n                    {!board.squares[x][y] ? (\r\n                      <></>\r\n                    ) : board.squares[x][y] === 'Black' ? (\r\n                      <Black />\r\n                    ) : (\r\n                      <White />\r\n                    )}\r\n                  </Square>\r\n                </>\r\n              )\r\n            })}\r\n          </Row>\r\n        )\r\n      })}\r\n    </ChessBoard>\r\n  )\r\n}\r\n","export default function Info() {\r\n  return <></>\r\n}\r\n","import styled from 'styled-components'\r\n\r\nconst ModalContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(25, 25, 30, 0.6);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 2;\r\n`\r\nconst EndingMsg = styled.div`\r\n  font-size: 120px;\r\n  margin-bottom: 50px;\r\n  color: #e5e5e5;\r\n`\r\nconst Restart = styled.a`\r\n  font-size: 30px;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  margin-bottom: 20px;\r\n  transition: ease 0.1s;\r\n  color: #d5d5d5;\r\n  &:hover {\r\n    color: #fff;\r\n  }\r\n`\r\nconst StartGame = styled(Restart)`\r\n  font-size: 54px;\r\n`\r\n\r\nexport default function Modal({\r\n  setIsPlaying,\r\n  playStart,\r\n  playClicked,\r\n  winner\r\n}) {\r\n  return (\r\n    <ModalContainer>\r\n      {!winner && (\r\n        <StartGame\r\n          onClick={() => {\r\n            setIsPlaying(true)\r\n            playStart()\r\n          }}\r\n        >\r\n          Start Game\r\n        </StartGame>\r\n      )}\r\n      {winner && (\r\n        <>\r\n          <EndingMsg>Winner is {winner}</EndingMsg>\r\n          <Restart\r\n            onClick={() => {\r\n              playClicked()\r\n              window.location.reload()\r\n            }}\r\n          >\r\n            Play Again\r\n          </Restart>\r\n        </>\r\n      )}\r\n    </ModalContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\n\r\nconst FooterContainer = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  padding: 30px 0px;\r\n  text-align: center;\r\n  font-size: 18px;\r\n  letter-spacing: 1.5px;\r\n  a {\r\n    color: #8398a3;\r\n    transition: ease 0.2s;\r\n    &:hover {\r\n      color: #41548b;\r\n    }\r\n  }\r\n`\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <FooterContainer>\r\n      © Copyright 2021. Made by {'  '}\r\n      <a\r\n        href='https://github.com/jackielin7789978'\r\n        target='_blank'\r\n        rel='noreferrer'\r\n      >\r\n        Jackie Lin\r\n      </a>\r\n    </FooterContainer>\r\n  )\r\n}\r\n","export const calculateWinner = (squares, currentX, currentY) => {\r\n  if (!currentX && !currentY) return\r\n\r\n  function countConsecutives(x, y, dx, dy) {\r\n    let color = squares[x][y]\r\n    let tempX = x\r\n    let tempY = y\r\n    let consecutiveCount = 0\r\n    do {\r\n      tempX += dx\r\n      tempY += dy\r\n      // 超出棋盤範圍的就不檢查\r\n      if (tempX < 0 || tempY < 0) break\r\n      if (tempX > 18 || tempY > 18) break\r\n      if (squares[tempX][tempY] === color) {\r\n        consecutiveCount++\r\n      } else {\r\n        break\r\n      }\r\n    } while (consecutiveCount < 5)\r\n    return consecutiveCount\r\n  }\r\n\r\n  if (\r\n    countConsecutives(currentX, currentY, 1, 1) +\r\n      countConsecutives(currentX, currentY, -1, -1) >=\r\n      4 ||\r\n    countConsecutives(currentX, currentY, 1, 0) +\r\n      countConsecutives(currentX, currentY, -1, 0) >=\r\n      4 ||\r\n    countConsecutives(currentX, currentY, 0, 1) +\r\n      countConsecutives(currentX, currentY, 0, -1) >=\r\n      4 ||\r\n    countConsecutives(currentX, currentY, 1, -1) +\r\n      countConsecutives(currentX, currentY, -1, 1) >=\r\n      4\r\n  ) {\r\n    return squares[currentX][currentY]\r\n  }\r\n  return null\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport useSound from 'use-sound'\r\nimport { gamestart, blackchess, whitechess, winning, click } from '../sounds'\r\nimport styled from 'styled-components'\r\nimport GlobalStyle from '../constants/GlobalStyle'\r\nimport Board from './Board'\r\nimport Info from './Info'\r\nimport Modal from './Modal'\r\nimport Footer from './Footer'\r\nimport { calculateWinner } from '../utils'\r\n\r\nconst Title = styled.div`\r\n  font-size: 48px;\r\n  color: #222;\r\n  width: 500px;\r\n  text-align: center;\r\n  margin: 80px auto 40px auto;\r\n  letter-spacing: 1.5px;\r\n`\r\n\r\nexport default function App() {\r\n  const [isPlaying, setIsPlaying] = useState(false)\r\n  const [isBlackNext, setIsBlackNext] = useState(true)\r\n  const [board, setBoard] = useState({\r\n    squares: Array(19)\r\n      .fill(0)\r\n      .map(() => Array(19).fill(null)),\r\n    coordinates: [null, null]\r\n  })\r\n\r\n  const currentSquares = board.squares\r\n  const currentX = board.coordinates[0]\r\n  const currentY = board.coordinates[1]\r\n  const [playStart] = useSound(gamestart, { volume: 2 })\r\n  const [playBlack] = useSound(blackchess, { volume: 2 })\r\n  const [playWhite] = useSound(whitechess, { volume: 2 })\r\n  const [playWinning] = useSound(winning, { volume: 2 })\r\n  const [playClicked] = useSound(click, { volume: 2 })\r\n\r\n  const handleClick = (x, y) => {\r\n    if (\r\n      calculateWinner(currentSquares, currentX, currentY) ||\r\n      board.squares[x][y]\r\n    )\r\n      return\r\n    const newRow = board.squares[x].map((square, index) => {\r\n      if (index !== y) return square\r\n      return isBlackNext ? 'Black' : 'White'\r\n    })\r\n    setBoard({\r\n      squares: board.squares.map((row, index) => {\r\n        if (index !== x) return row\r\n        return newRow\r\n      }),\r\n      coordinates: [x, y]\r\n    })\r\n    setIsBlackNext(!isBlackNext)\r\n  }\r\n\r\n  const handleSound = ($isBlackNext) => {\r\n    $isBlackNext ? playBlack() : playWhite()\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (calculateWinner(currentSquares, currentX, currentY)) {\r\n      setIsPlaying(false)\r\n      playWinning()\r\n    }\r\n  }, [currentSquares, currentX, currentY, playWinning])\r\n  return (\r\n    <>\r\n      <GlobalStyle />\r\n      <Title>Gomoku Game</Title>\r\n      <Board\r\n        board={board}\r\n        handleClick={handleClick}\r\n        handleSound={handleSound}\r\n        $isBlackNext={isBlackNext}\r\n      />\r\n      <Info />\r\n      {!isPlaying && (\r\n        <Modal\r\n          setIsPlaying={setIsPlaying}\r\n          playStart={playStart}\r\n          playClicked={playClicked}\r\n          winner={calculateWinner(currentSquares, currentX, currentY)}\r\n        />\r\n      )}\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n","import ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}